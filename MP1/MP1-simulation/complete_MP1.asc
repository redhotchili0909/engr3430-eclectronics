Version 4
SHEET 1 928 680
WIRE 32 -128 0 -128
WIRE 192 -128 112 -128
WIRE 368 -128 272 -128
WIRE -128 -64 -176 -64
WIRE 0 -64 0 -128
WIRE 0 -64 -48 -64
WIRE -304 -16 -304 -32
WIRE -304 -16 -416 -16
WIRE -640 32 -640 0
WIRE -416 32 -416 -16
WIRE -176 32 -176 0
WIRE -256 48 -368 48
WIRE 80 64 80 32
WIRE -304 80 -304 -16
WIRE 0 80 0 -64
WIRE 32 80 0 80
WIRE 48 80 32 80
WIRE -368 96 -368 48
WIRE -336 96 -368 96
WIRE 224 96 112 96
WIRE 448 96 448 -128
WIRE 448 96 224 96
WIRE -256 112 -256 48
WIRE -256 112 -272 112
WIRE -176 112 -256 112
WIRE -128 112 -176 112
WIRE 0 112 -48 112
WIRE 32 112 0 112
WIRE 48 112 32 112
WIRE -416 128 -416 112
WIRE -336 128 -416 128
WIRE -416 144 -416 128
WIRE 80 176 80 128
WIRE -304 192 -304 144
WIRE -416 240 -416 224
WIRE 0 256 0 112
WIRE 32 256 0 256
WIRE 448 256 448 96
WIRE 448 256 112 256
FLAG 224 96 Vout
FLAG 80 176 0
FLAG -176 32 0
FLAG -640 32 0
FLAG -640 -80 VDD
FLAG 80 32 VDD
FLAG -304 -32 VDD
FLAG -416 240 0
FLAG -304 192 0
FLAG -176 112 VREF
FLAG 32 112 V+
FLAG 32 80 V-
SYMBOL OpAmps/opamp2 80 32 R0
WINDOW 3 42 1 Left 2
SYMATTR Value MCP6021
SYMATTR InstName U1
SYMBOL Voltage -640 -96 R0
SYMATTR InstName VDD
SYMATTR Value 3.3
SYMBOL res 128 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -11 189 VTop 1
SYMATTR InstName R1
SYMATTR Value 3.01Meg
SYMBOL cap -192 -64 R0
WINDOW 0 45 32 Left 2
WINDOW 3 24 56 Left 1
SYMATTR InstName C1
SYMATTR Value 0.1µ
SYMBOL res 128 240 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMATTR SpiceLine tol=1
SYMBOL res -32 96 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 10k
SYMATTR SpiceLine tol=1
SYMBOL res -400 128 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R4
SYMATTR Value 10k
SYMATTR SpiceLine tol=1
SYMBOL res -400 240 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMATTR SpiceLine tol=1
SYMBOL OpAmps/opamp2 -304 48 R0
WINDOW 3 -59 215 Left 2
SYMATTR Value MCP6021
SYMATTR InstName U2
SYMBOL res 288 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 57 59 VBottom 1
SYMATTR InstName R6
SYMATTR Value 1Meg
SYMBOL res 464 -144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 -11 -53 VTop 1
SYMATTR InstName R7
SYMATTR Value 499k
SYMBOL Res -32 -80 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 100
TEXT -552 -232 Left 2 !.include MCP6021.txt
TEXT -552 -200 Left 2 !.options method=gear reltol=1e-3 vntol=1u abstol=1n\n.tran 0 3 0 1m
TEXT -560 448 Left 2 !.meas TRAN T_Period TRIG V(Vout)=1.65 RISE=2 TARG V(Vout)=1.65 RISE=3
